<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      th:replace="~{layout :: html}">
<head>
    <title id="pageTitle">Welcome</title>
</head>
<body>
<div id="content" class="text-center">
    <h1 class="display-4 mb-4">Welcome to OAuth2 Demo</h1>

    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">About This Application</h5>
                    <p class="card-text">
                        This is a demonstration of OAuth2 authentication using Spring Security.
                        Users can sign in with their Google account to access protected resources.
                    </p>

                    <div sec:authorize="!isAuthenticated()">
                        <hr>
                        <p>Get started by logging in with your Google account:</p>
                        <a th:href="@{/oauth2/authorization/github}" class="btn btn-dark btn-lg mb-3 w-100">
                            <i class="bi bi-github me-2"></i>
                            Continue with GitHub
                        </a>
                    </div>

                    <div sec:authorize="isAuthenticated()">
                        <hr>
                        <p>You are currently signed in as:</p>
                        <p class="font-weight-bold" th:text="${#authentication.principal.attributes.name}">User Name</p>
                        <a th:href="@{/user}" class="btn btn-primary">View Profile</a>
                    </div>
                </div>
            </div>

            <!-- Feature cards -->
            <div class="row mt-4">
                <div class="col-md-6">
                    <div class="card mb-3">
                        <div class="card-body">
                            <h5 class="card-title">Secure Authentication</h5>
                            <p class="card-text">Login securely using your Google account credentials with OAuth2
                                protocol.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card mb-3">
                        <div class="card-body">
                            <h5 class="card-title">Role-Based Access</h5>
                            <p class="card-text">Different access levels for users and administrators with proper
                                authorization.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>